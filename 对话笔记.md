# Python 学习笔记

## 1. 基础数据类型与操作

```python
s = "Hello World!"
len(s)           # 获取长度: 12
s[-1]            # 最后一个字符: !
s[2:5]           # 切片: llo
```

**类型转换：**
- `int()` - 转整数
- `float()` - 转浮点数
- `str()` - 转字符串

**格式化输出：**
```python
value = 3.14
print(f"值={value}")  # f-string（推荐）
```

---

## 2. 数学运算

```python
from math import *

log2(10)    # 对数
2 ** 3      # 幂运算: 8
```

---

## 3. 函数

### 基本定义
```python
def add(a, b):
    return a + b
```

### 可变参数
```python
# *args - 接收元组
def foo(*args):
    print(args)  # (1, 2, 3)

# **kwargs - 接收字典
def bar(**kwargs):
    print(kwargs)  # {'name': 'zhangsan', 'age': 18}
```

### 返回值
- 有 `return` → 返回指定值
- 无 `return` → 自动返回 `None`

---

## 4. 可变与不可变类型

```python
# 不可变类型（int, str, tuple）- 函数内修改不影响外部
x = 10
def foo(y):
    y += 1  # 不会改变 x

# 可变类型（list, dict）- 函数内修改会影响外部
x = [10, 20]
def foo(y):
    y[0] += 1  # 会改变 x

# 避免修改原列表：传入副本
foo(x[:])
```

---

## 5. 全局变量与局部变量

```python
n = 123

def foo():
    n = 321      # 创建局部变量，不影响全局
    print(n)     # 321

def bar():
    global n     # 声明使用全局变量
    n = 100      # 修改全局变量
```

---

## 6. 类与对象

### 基本定义
```python
class Student:
    def __init__(self, name, age):
        self.name = name
        self.age = age

    def study(self):
        print("studying")

stu = Student("张三", 18)
```

### 私有属性（封装）
```python
class Account:
    def __init__(self, balance):
        self.__balance = balance  # 双下划线 = 私有

    def get_balance(self):
        return self.__balance

    def set_balance(self, value):
        if value >= 0:
            self.__balance = value
```

### @property 装饰器（推荐写法）
```python
class Account:
    def __init__(self, balance):
        self.__balance = balance

    @property
    def balance(self):           # getter
        return self.__balance

    @balance.setter
    def balance(self, value):    # setter
        if value >= 0:
            self.__balance = value

    @balance.deleter
    def balance(self):           # deleter
        self.__balance = 0

# 使用
a = Account(100)
print(a.balance)   # 获取: 100
a.balance = 200    # 设置
del a.balance      # 重置为 0
```

**要点：**
1. 先定义 `@property`（getter）
2. 再定义 `@属性名.setter`
3. 最后定义 `@属性名.deleter`
4. 三者必须使用**相同的方法名**

---

## 7. 算法练习

### 勾股数问题
找出 a + b + c = 1000 且 a² + b² = c² 的所有组合：

```python
for a in range(1, 1000):
    for b in range(1, 1000):
        c = 1000 - a - b
        if c > 0 and a ** 2 + b ** 2 == c ** 2:
            print(f"a={a}, b={b}, c={c}")
```

---

## 8. Claude Code 使用技巧

| 命令 | 作用 |
|------|------|
| `/help` | 查看所有命令 |
| `/init` | 生成 CLAUDE.md 项目说明 |
| `/clear` | 清空对话 |
| `/cost` | 查看用量 |
| `/compact` | 压缩上下文 |

**三种编辑模式：**
- **Ask before edits** - 每次编辑前询问
- **Edit automatically** - 自动编辑
- **Plan mode** - 只规划不执行，等待批准
